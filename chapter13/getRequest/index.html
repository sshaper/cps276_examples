<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Include Bootstrap CSS for styling -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <title>Simple Get Request</title>
</head>
<body class="container">
    <h1>Simple Get Request</h1>
    <!-- This div will contain the fetched data -->
    <div id="result"></div>
    
    <script>
        // Make a GET request to the PHP endpoint
        fetch('php/data.php')
        .then(response => {
                // For debugging purposes: log the raw text response to console
                // Using clone() because response can only be read once
                response.clone().text().then(rawText => {
                    console.log('Raw Text Response:', rawText);
                });

                // Parse the JSON response into a JavaScript object
                return response.json();
            })
        .then(data => {
            // Create a formatted string using the received data
            var output = `<p>The name is ${data.name}, the age is ${data.age} and the city is ${data.city}`;
            
            // Insert the formatted string into the result div
            document.getElementById('result').innerHTML = output;
        })
        // Handle any errors that occur during the fetch request
        .catch(error => console.error('Error:', error));
    </script>
</body>
</html>